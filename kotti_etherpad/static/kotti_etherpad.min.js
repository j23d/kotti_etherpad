(function(a){a.fn.pad=function(l){var d={host:"http://beta.etherpad.org",baseUrl:"/p/",showControls:false,showChat:false,showLineNumbers:false,userName:"unnamed",useMonospaceFont:false,noColors:false,hideQRCode:false,width:100,height:100,border:0,borderStyle:"solid",toggleTextOn:"Disable Rich-text",toggleTextOff:"Enable Rich-text",api_key:"DHIJFZBtGoxUEOofCVnM03edRDjIIKej"};var h=this;if(!h.length){return}if(!h.attr("id")){throw new Error('No "id" attribute')}var i=h[0].tagName.toLowerCase()=="textarea";var g=h.attr("id");var c="epframe"+g;if(!l.getContents){if(l){a.extend(d,l)}var e='<iframe id="'+c;e=e+'" name="'+c;e=e+'" src="'+d.host+d.baseUrl+d.padId;e=e+"?showControls="+d.showControls;e=e+"&showChat="+d.showChat;e=e+"&showLineNumbers="+d.showLineNumbers;e=e+"&useMonospaceFont="+d.useMonospaceFont;e=e+"&userName="+d.userName;e=e+"&noColors="+d.noColors;e=e+"&hideQRCode="+d.hideQRCode;e=e+'" style="border:'+d.border;e=e+"; border-style:"+d.borderStyle;e=e+';" width="100%';e=e+'" height="'+d.height;e=e+'"></iframe>';var j=a(e);if(i){var b=a('<a href="#'+g+'">'+d.toggleTextOn+"</a>").click(function(){var m=a(this);m.toggleClass("active");if(m.hasClass("active")){m.text(d.toggleTextOff)}h.pad({getContents:true});return false});h.hide().after(b).after(j)}else{h.html(e)}}else{var f=a("#"+c).attr("src").split("?")[0];var k=f+"/export/html";a.get(k,function(m){if(i){h.val(m).show()}else{h.html(m)}a("#"+c).remove()})}return h}})(jQuery);